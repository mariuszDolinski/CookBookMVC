@using CookBook.Application.ApplicationUser;
@model CookBook.Application.ApplicationUser.UserDto

@{
    ViewData["Title"] = "Profil użytkowika";
    Layout = "~/Views/Shared/_Layout.cshtml";
    bool isCurrent = (ViewBag.IsUserCurrent == "Y") ? true : false;
    var userEmail = (Model.Email != null && Model.Email.Length > 0) ? Model.Email : "brak";
    var userPhone = (Model.PhoneNumber != null && Model.PhoneNumber.Length > 0) ? Model.PhoneNumber : "brak";
    var userCreatedTime = UserDto.GetFormattedTime(Model.CreatedTime);
    var userLastLogOnTime = UserDto.GetFormattedTime(Model.LastLogOnTime);
}

@if (isCurrent)
{
    <h3>Mój profil</h3>
}
else
{
    <h3>Profil użytownika: @Model.UserName</h3>
}

<hr />

<div class="row">
    <div class="col-12 col-md-3">
        <div class="pt-1 ps-1 mb-1 bg-light">
            <h6><strong>Nazwa użytkownika:</strong></h6>
            <h6> @Model.UserName</h6>
        </div>
        <div class="pt-1 ps-1 mb-1 bg-light">
            <h6><strong>Email:</strong></h6>
            <h6> @userEmail</h6>
        </div>
        <div class="pt-1 ps-1 mb-1 bg-light">
            <h6><strong>Numer telefonu:</strong></h6>
            <h6> @userPhone</h6>
        </div>
        <div class="pt-1 ps-1 mb-1 bg-light">
            <h6><strong>Data dołączenia:</strong></h6>
            <h6> @userCreatedTime</h6>
        </div>
        <div class="pt-1 ps-1 mb-1 bg-light">
            <h6><strong>Data ostatniej aktywności:</strong></h6>
            <h6> @userLastLogOnTime</h6>
        </div>
    </div>
    <div class="col-12 col-md-9">
        @if (isCurrent)
        {
            <h4>Moje przepisy</h4>
        }
        else
        {
            <h4>Wszystkie przepisy użytkownika</h4>
        }
        <hr />
        <partial name="_AllUserRecipes" model="@Model.UserRecipes"/>
    </div>
</div>

@section Scripts {
    <script src="~/js/Recipe/Delete.js"></script>
}